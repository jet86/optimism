"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.processComptrollerEvent = exports.comptrollerCommands = void 0;
const World_1 = require("../World");
const Contract_1 = require("../Contract");
const Invokation_1 = require("../Invokation");
const CoreValue_1 = require("../CoreValue");
const Command_1 = require("../Command");
const ComptrollerImplBuilder_1 = require("../Builder/ComptrollerImplBuilder");
const ErrorReporter_1 = require("../ErrorReporter");
const ContractLookup_1 = require("../ContractLookup");
const ComptrollerValue_1 = require("../Value/ComptrollerValue");
const CTokenValue_1 = require("../Value/CTokenValue");
const Utils_1 = require("../Utils");
async function genComptroller(world, from, params) {
    let { world: nextWorld, comptrollerImpl: comptroller, comptrollerImplData: comptrollerData } = await ComptrollerImplBuilder_1.buildComptrollerImpl(world, from, params);
    world = nextWorld;
    world = World_1.addAction(world, `Added Comptroller (${comptrollerData.description}) at address ${comptroller._address}`, comptrollerData.invokation);
    return world;
}
;
async function setPaused(world, from, comptroller, actionName, isPaused) {
    const pauseMap = {
        "Mint": comptroller.methods._setMintPaused
    };
    if (!pauseMap[actionName]) {
        throw `Cannot find pause function for action "${actionName}"`;
    }
    let invokation = await Invokation_1.invoke(world, comptroller[actionName]([isPaused]), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: set paused for ${actionName} to ${isPaused}`, invokation);
    return world;
}
async function setMaxAssets(world, from, comptroller, numberOfAssets) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setMaxAssets(numberOfAssets.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set max assets to ${numberOfAssets.show()}`, invokation);
    return world;
}
async function setLiquidationIncentive(world, from, comptroller, liquidationIncentive) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setLiquidationIncentive(liquidationIncentive.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set liquidation incentive to ${liquidationIncentive.show()}`, invokation);
    return world;
}
async function supportMarket(world, from, comptroller, cToken) {
    if (world.dryRun) {
        // Skip this specifically on dry runs since it's likely to crash due to a number of reasons
        world.printer.printLine(`Dry run: Supporting market  \`${cToken._address}\``);
        return world;
    }
    let invokation = await Invokation_1.invoke(world, comptroller.methods._supportMarket(cToken._address), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Supported market ${cToken.name}`, invokation);
    return world;
}
async function unlistMarket(world, from, comptroller, cToken) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.unlist(cToken._address), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Unlisted market ${cToken.name}`, invokation);
    return world;
}
async function enterMarkets(world, from, comptroller, assets) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.enterMarkets(assets), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Called enter assets ${assets} as ${World_1.describeUser(world, from)}`, invokation);
    return world;
}
async function exitMarket(world, from, comptroller, asset) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.exitMarket(asset), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Called exit market ${asset} as ${World_1.describeUser(world, from)}`, invokation);
    return world;
}
async function setPriceOracle(world, from, comptroller, priceOracleAddr) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setPriceOracle(priceOracleAddr), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set price oracle for to ${priceOracleAddr} as ${World_1.describeUser(world, from)}`, invokation);
    return world;
}
async function setCollateralFactor(world, from, comptroller, cToken, collateralFactor) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCollateralFactor(cToken._address, collateralFactor.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set collateral factor for ${cToken.name} to ${collateralFactor.show()}`, invokation);
    return world;
}
async function setCloseFactor(world, from, comptroller, closeFactor) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCloseFactor(closeFactor.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set close factor to ${closeFactor.show()}`, invokation);
    return world;
}
async function fastForward(world, from, comptroller, blocks) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.fastForward(blocks.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Fast forward ${blocks.show()} blocks to #${invokation.value}`, invokation);
    return world;
}
async function sendAny(world, from, comptroller, signature, callArgs) {
    const fnData = Utils_1.encodeABI(world, signature, callArgs);
    await world.web3.eth.sendTransaction({
        to: comptroller._address,
        data: fnData,
        from: from
    });
    return world;
}
async function addCompMarkets(world, from, comptroller, cTokens) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._addCompMarkets(cTokens.map(c => c._address)), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Added COMP markets ${cTokens.map(c => c.name)}`, invokation);
    return world;
}
async function dropCompMarket(world, from, comptroller, cToken) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._dropCompMarket(cToken._address), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Drop COMP market ${cToken.name}`, invokation);
    return world;
}
async function refreshCompSpeeds(world, from, comptroller) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.refreshCompSpeeds(), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Refreshed COMP speeds`, invokation);
    return world;
}
async function claimComp(world, from, comptroller, holder) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.claimComp(holder), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp claimed by ${holder}`, invokation);
    return world;
}
async function updateContributorRewards(world, from, comptroller, contributor) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.updateContributorRewards(contributor), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Contributor rewards updated for ${contributor}`, invokation);
    return world;
}
async function grantComp(world, from, comptroller, recipient, amount) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._grantComp(recipient, amount.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `${amount.show()} comp granted to ${recipient}`, invokation);
    return world;
}
async function setCompRate(world, from, comptroller, rate) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCompRate(rate.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp rate set to ${rate.show()}`, invokation);
    return world;
}
async function setCompSpeed(world, from, comptroller, cToken, speed) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCompSpeed(cToken._address, speed.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp speed for market ${cToken._address} set to ${speed.show()}`, invokation);
    return world;
}
async function setContributorCompSpeed(world, from, comptroller, contributor, speed) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setContributorCompSpeed(contributor, speed.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp speed for contributor ${contributor} set to ${speed.show()}`, invokation);
    return world;
}
async function printLiquidity(world, comptroller) {
    let enterEvents = await Contract_1.getPastEvents(world, comptroller, 'StdComptroller', 'MarketEntered');
    let addresses = enterEvents.map((event) => event.returnValues['account']);
    let uniq = [...new Set(addresses)];
    world.printer.printLine("Liquidity:");
    const liquidityMap = await Promise.all(uniq.map(async (address) => {
        let userLiquidity = await ComptrollerValue_1.getLiquidity(world, comptroller, address);
        return [address, userLiquidity.val];
    }));
    liquidityMap.forEach(([address, liquidity]) => {
        world.printer.printLine(`\t${world.settings.lookupAlias(address)}: ${liquidity / 1e18}e18`);
    });
    return world;
}
async function setPendingAdmin(world, from, comptroller, newPendingAdmin) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setPendingAdmin(newPendingAdmin), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets pending admin to ${newPendingAdmin}`, invokation);
    return world;
}
async function acceptAdmin(world, from, comptroller) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._acceptAdmin(), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} accepts admin`, invokation);
    return world;
}
async function setPauseGuardian(world, from, comptroller, newPauseGuardian) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setPauseGuardian(newPauseGuardian), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets pause guardian to ${newPauseGuardian}`, invokation);
    return world;
}
async function setGuardianPaused(world, from, comptroller, action, state) {
    let fun;
    switch (action) {
        case "Transfer":
            fun = comptroller.methods._setTransferPaused;
            break;
        case "Seize":
            fun = comptroller.methods._setSeizePaused;
            break;
    }
    let invokation = await Invokation_1.invoke(world, fun(state), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets ${action} paused`, invokation);
    return world;
}
async function setGuardianMarketPaused(world, from, comptroller, cToken, action, state) {
    let fun;
    switch (action) {
        case "Mint":
            fun = comptroller.methods._setMintPaused;
            break;
        case "Borrow":
            fun = comptroller.methods._setBorrowPaused;
            break;
    }
    let invokation = await Invokation_1.invoke(world, fun(cToken._address, state), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets ${action} paused`, invokation);
    return world;
}
async function setMarketBorrowCaps(world, from, comptroller, cTokens, borrowCaps) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setMarketBorrowCaps(cTokens.map(c => c._address), borrowCaps.map(c => c.encode())), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Borrow caps on ${cTokens} set to ${borrowCaps}`, invokation);
    return world;
}
async function setBorrowCapGuardian(world, from, comptroller, newBorrowCapGuardian) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setBorrowCapGuardian(newBorrowCapGuardian), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets borrow cap guardian to ${newBorrowCapGuardian}`, invokation);
    return world;
}
function comptrollerCommands() {
    return [
        new Command_1.Command(`
        #### Deploy

        * "Comptroller Deploy ...comptrollerParams" - Generates a new Comptroller (not as Impl)
          * E.g. "Comptroller Deploy YesNo"
      `, "Deploy", [new Command_1.Arg("comptrollerParams", CoreValue_1.getEventV, { variadic: true })], (world, from, { comptrollerParams }) => genComptroller(world, from, comptrollerParams.val)),
        new Command_1.Command(`
        #### SetPaused

        * "Comptroller SetPaused <Action> <Bool>" - Pauses or unpaused given cToken function
          * E.g. "Comptroller SetPaused "Mint" True"
      `, "SetPaused", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("action", CoreValue_1.getStringV),
            new Command_1.Arg("isPaused", CoreValue_1.getBoolV)
        ], (world, from, { comptroller, action, isPaused }) => setPaused(world, from, comptroller, action.val, isPaused.val)),
        new Command_1.Command(`
        #### SupportMarket

        * "Comptroller SupportMarket <CToken>" - Adds support in the Comptroller for the given cToken
          * E.g. "Comptroller SupportMarket cZRX"
      `, "SupportMarket", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => supportMarket(world, from, comptroller, cToken)),
        new Command_1.Command(`
        #### UnList

        * "Comptroller UnList <CToken>" - Mock unlists a given market in tests
          * E.g. "Comptroller UnList cZRX"
      `, "UnList", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => unlistMarket(world, from, comptroller, cToken)),
        new Command_1.Command(`
        #### EnterMarkets

        * "Comptroller EnterMarkets (<CToken> ...)" - User enters the given markets
          * E.g. "Comptroller EnterMarkets (cZRX cETH)"
      `, "EnterMarkets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true })
        ], (world, from, { comptroller, cTokens }) => enterMarkets(world, from, comptroller, cTokens.map((c) => c._address))),
        new Command_1.Command(`
        #### ExitMarket

        * "Comptroller ExitMarket <CToken>" - User exits the given markets
          * E.g. "Comptroller ExitMarket cZRX"
      `, "ExitMarket", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => exitMarket(world, from, comptroller, cToken._address)),
        new Command_1.Command(`
        #### SetMaxAssets

        * "Comptroller SetMaxAssets <Number>" - Sets (or resets) the max allowed asset count
          * E.g. "Comptroller SetMaxAssets 4"
      `, "SetMaxAssets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("maxAssets", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, maxAssets }) => setMaxAssets(world, from, comptroller, maxAssets)),
        new Command_1.Command(`
        #### LiquidationIncentive

        * "Comptroller LiquidationIncentive <Number>" - Sets the liquidation incentive
          * E.g. "Comptroller LiquidationIncentive 1.1"
      `, "LiquidationIncentive", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("liquidationIncentive", CoreValue_1.getExpNumberV)
        ], (world, from, { comptroller, liquidationIncentive }) => setLiquidationIncentive(world, from, comptroller, liquidationIncentive)),
        new Command_1.Command(`
        #### SetPriceOracle

        * "Comptroller SetPriceOracle oracle:<Address>" - Sets the price oracle address
          * E.g. "Comptroller SetPriceOracle 0x..."
      `, "SetPriceOracle", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("priceOracle", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, priceOracle }) => setPriceOracle(world, from, comptroller, priceOracle.val)),
        new Command_1.Command(`
        #### SetCollateralFactor

        * "Comptroller SetCollateralFactor <CToken> <Number>" - Sets the collateral factor for given cToken to number
          * E.g. "Comptroller SetCollateralFactor cZRX 0.1"
      `, "SetCollateralFactor", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV),
            new Command_1.Arg("collateralFactor", CoreValue_1.getExpNumberV)
        ], (world, from, { comptroller, cToken, collateralFactor }) => setCollateralFactor(world, from, comptroller, cToken, collateralFactor)),
        new Command_1.Command(`
        #### SetCloseFactor

        * "Comptroller SetCloseFactor <Number>" - Sets the close factor to given percentage
          * E.g. "Comptroller SetCloseFactor 0.2"
      `, "SetCloseFactor", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("closeFactor", CoreValue_1.getPercentV)
        ], (world, from, { comptroller, closeFactor }) => setCloseFactor(world, from, comptroller, closeFactor)),
        new Command_1.Command(`
        #### SetPendingAdmin

        * "Comptroller SetPendingAdmin newPendingAdmin:<Address>" - Sets the pending admin for the Comptroller
          * E.g. "Comptroller SetPendingAdmin Geoff"
      `, "SetPendingAdmin", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("newPendingAdmin", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, newPendingAdmin }) => setPendingAdmin(world, from, comptroller, newPendingAdmin.val)),
        new Command_1.Command(`
        #### AcceptAdmin

        * "Comptroller AcceptAdmin" - Accepts admin for the Comptroller
          * E.g. "From Geoff (Comptroller AcceptAdmin)"
      `, "AcceptAdmin", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
        ], (world, from, { comptroller }) => acceptAdmin(world, from, comptroller)),
        new Command_1.Command(`
        #### SetPauseGuardian

        * "Comptroller SetPauseGuardian newPauseGuardian:<Address>" - Sets the PauseGuardian for the Comptroller
          * E.g. "Comptroller SetPauseGuardian Geoff"
      `, "SetPauseGuardian", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("newPauseGuardian", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, newPauseGuardian }) => setPauseGuardian(world, from, comptroller, newPauseGuardian.val)),
        new Command_1.Command(`
        #### SetGuardianPaused

        * "Comptroller SetGuardianPaused <Action> <Bool>" - Pauses or unpaused given cToken function
        * E.g. "Comptroller SetGuardianPaused "Transfer" True"
        `, "SetGuardianPaused", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("action", CoreValue_1.getStringV),
            new Command_1.Arg("isPaused", CoreValue_1.getBoolV)
        ], (world, from, { comptroller, action, isPaused }) => setGuardianPaused(world, from, comptroller, action.val, isPaused.val)),
        new Command_1.Command(`
        #### SetGuardianMarketPaused

        * "Comptroller SetGuardianMarketPaused <CToken> <Action> <Bool>" - Pauses or unpaused given cToken function
        * E.g. "Comptroller SetGuardianMarketPaused cREP "Mint" True"
        `, "SetGuardianMarketPaused", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV),
            new Command_1.Arg("action", CoreValue_1.getStringV),
            new Command_1.Arg("isPaused", CoreValue_1.getBoolV)
        ], (world, from, { comptroller, cToken, action, isPaused }) => setGuardianMarketPaused(world, from, comptroller, cToken, action.val, isPaused.val)),
        new Command_1.Command(`
        #### FastForward

        * "FastForward n:<Number> Blocks" - Moves the block number forward "n" blocks. Note: in "CTokenScenario" and "ComptrollerScenario" the current block number is mocked (starting at 100000). This is the only way for the protocol to see a higher block number (for accruing interest).
          * E.g. "Comptroller FastForward 5 Blocks" - Move block number forward 5 blocks.
      `, "FastForward", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("blocks", CoreValue_1.getNumberV),
            new Command_1.Arg("_keyword", CoreValue_1.getStringV)
        ], (world, from, { comptroller, blocks }) => fastForward(world, from, comptroller, blocks)),
        new Command_1.View(`
        #### Liquidity

        * "Comptroller Liquidity" - Prints liquidity of all minters or borrowers
      `, "Liquidity", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
        ], (world, { comptroller }) => printLiquidity(world, comptroller)),
        new Command_1.View(`
        #### Decode

        * "Decode input:<String>" - Prints information about a call to a Comptroller contract
      `, "Decode", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("input", CoreValue_1.getStringV)
        ], (world, { comptroller, input }) => Contract_1.decodeCall(world, comptroller, input.val)),
        new Command_1.Command(`
      #### Send
      * Comptroller Send functionSignature:<String> callArgs[] - Sends any transaction to comptroller
      * E.g: Comptroller Send "setCompAddress(address)" (Address COMP)
      `, "Send", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("signature", CoreValue_1.getStringV),
            new Command_1.Arg("callArgs", CoreValue_1.getCoreValue, { variadic: true, mapped: true })
        ], (world, from, { comptroller, signature, callArgs }) => sendAny(world, from, comptroller, signature.val, Utils_1.rawValues(callArgs))),
        new Command_1.Command(`
      #### AddCompMarkets

      * "Comptroller AddCompMarkets (<Address> ...)" - Makes a market COMP-enabled
      * E.g. "Comptroller AddCompMarkets (cZRX cBAT)
      `, "AddCompMarkets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true })
        ], (world, from, { comptroller, cTokens }) => addCompMarkets(world, from, comptroller, cTokens)),
        new Command_1.Command(`
      #### DropCompMarket

      * "Comptroller DropCompMarket <Address>" - Makes a market COMP
      * E.g. "Comptroller DropCompMarket cZRX
      `, "DropCompMarket", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => dropCompMarket(world, from, comptroller, cToken)),
        new Command_1.Command(`
      #### RefreshCompSpeeds

      * "Comptroller RefreshCompSpeeds" - Recalculates all the COMP market speeds
      * E.g. "Comptroller RefreshCompSpeeds
      `, "RefreshCompSpeeds", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true })
        ], (world, from, { comptroller }) => refreshCompSpeeds(world, from, comptroller)),
        new Command_1.Command(`
      #### ClaimComp

      * "Comptroller ClaimComp <holder>" - Claims comp
      * E.g. "Comptroller ClaimComp Geoff
      `, "ClaimComp", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("holder", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, holder }) => claimComp(world, from, comptroller, holder.val)),
        new Command_1.Command(`
      #### UpdateContributorRewards

      * "Comptroller UpdateContributorRewards <contributor>" - Updates rewards for a contributor
      * E.g. "Comptroller UpdateContributorRewards Geoff
      `, "UpdateContributorRewards", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("contributor", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, contributor }) => updateContributorRewards(world, from, comptroller, contributor.val)),
        new Command_1.Command(`
      #### GrantComp

      * "Comptroller GrantComp <recipient> <amount>" - Grants COMP to a recipient
      * E.g. "Comptroller GrantComp Geoff 1e18
      `, "GrantComp", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("recipient", CoreValue_1.getAddressV),
            new Command_1.Arg("amount", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, recipient, amount }) => grantComp(world, from, comptroller, recipient.val, amount)),
        new Command_1.Command(`
      #### SetCompRate

      * "Comptroller SetCompRate <rate>" - Sets COMP rate
      * E.g. "Comptroller SetCompRate 1e18
      `, "SetCompRate", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("rate", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, rate }) => setCompRate(world, from, comptroller, rate)),
        new Command_1.Command(`
      #### SetCompSpeed
      * "Comptroller SetCompSpeed <cToken> <rate>" - Sets COMP speed for market
      * E.g. "Comptroller SetCompSpeed cToken 1000
      `, "SetCompSpeed", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV),
            new Command_1.Arg("speed", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, cToken, speed }) => setCompSpeed(world, from, comptroller, cToken, speed)),
        new Command_1.Command(`
      #### SetContributorCompSpeed
      * "Comptroller SetContributorCompSpeed <contributor> <rate>" - Sets COMP speed for contributor
      * E.g. "Comptroller SetContributorCompSpeed contributor 1000
      `, "SetContributorCompSpeed", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("contributor", CoreValue_1.getAddressV),
            new Command_1.Arg("speed", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, contributor, speed }) => setContributorCompSpeed(world, from, comptroller, contributor.val, speed)),
        new Command_1.Command(`
      #### SetMarketBorrowCaps

      * "Comptroller SetMarketBorrowCaps (<CToken> ...) (<borrowCap> ...)" - Sets Market Borrow Caps
      * E.g "Comptroller SetMarketBorrowCaps (cZRX cUSDC) (10000.0e18, 1000.0e6)
      `, "SetMarketBorrowCaps", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true }),
            new Command_1.Arg("borrowCaps", CoreValue_1.getNumberV, { mapped: true })
        ], (world, from, { comptroller, cTokens, borrowCaps }) => setMarketBorrowCaps(world, from, comptroller, cTokens, borrowCaps)),
        new Command_1.Command(`
        #### SetBorrowCapGuardian

        * "Comptroller SetBorrowCapGuardian newBorrowCapGuardian:<Address>" - Sets the Borrow Cap Guardian for the Comptroller
          * E.g. "Comptroller SetBorrowCapGuardian Geoff"
      `, "SetBorrowCapGuardian", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("newBorrowCapGuardian", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, newBorrowCapGuardian }) => setBorrowCapGuardian(world, from, comptroller, newBorrowCapGuardian.val))
    ];
}
exports.comptrollerCommands = comptrollerCommands;
async function processComptrollerEvent(world, event, from) {
    return await Command_1.processCommandEvent("Comptroller", comptrollerCommands(), world, event, from);
}
exports.processComptrollerEvent = processComptrollerEvent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcHRyb2xsZXJFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9FdmVudC9Db21wdHJvbGxlckV2ZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG9DQUF3RDtBQUN4RCwwQ0FBc0Q7QUFJdEQsOENBQXFDO0FBQ3JDLDRDQVNzQjtBQVF0Qix3Q0FBbUU7QUFDbkUsOEVBQXVFO0FBQ3ZFLG9EQUEwRDtBQUMxRCxzREFBcUU7QUFDckUsZ0VBQXVEO0FBQ3ZELHNEQUFnRDtBQUVoRCxvQ0FBOEM7QUFFOUMsS0FBSyxVQUFVLGNBQWMsQ0FBQyxLQUFZLEVBQUUsSUFBWSxFQUFFLE1BQWE7SUFDckUsSUFBSSxFQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxlQUFlLEVBQUMsR0FBRyxNQUFNLDZDQUFvQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDN0ksS0FBSyxHQUFHLFNBQVMsQ0FBQztJQUVsQixLQUFLLEdBQUcsaUJBQVMsQ0FDZixLQUFLLEVBQ0wsc0JBQXNCLGVBQWUsQ0FBQyxXQUFXLGdCQUFnQixXQUFXLENBQUMsUUFBUSxFQUFFLEVBQ3ZGLGVBQWUsQ0FBQyxVQUFVLENBQzNCLENBQUM7SUFFRixPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFBQSxDQUFDO0FBRUYsS0FBSyxVQUFVLFNBQVMsQ0FBQyxLQUFZLEVBQUUsSUFBWSxFQUFFLFdBQXdCLEVBQUUsVUFBa0IsRUFBRSxRQUFpQjtJQUNsSCxNQUFNLFFBQVEsR0FBRztRQUNmLE1BQU0sRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDLGNBQWM7S0FDM0MsQ0FBQztJQUVGLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDekIsTUFBTSwwQ0FBMEMsVUFBVSxHQUFHLENBQUM7S0FDL0Q7SUFFRCxJQUFJLFVBQVUsR0FBRyxNQUFNLG1CQUFN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QUFFLElBQUksRUFBQyxDQUFDO1lBQzlDLElBQUksYUFBRyxDQUFDLFlBQVksRUFBRSxzQkFBVSxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyxDQUFDO1NBQ2xELEVBQ0QsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUMsV0FBVyxFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFFLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUN0SDtRQUNELElBQUksaUJBQU8sQ0FBNkQ7Ozs7O09BS3JFLEVBQ0Qsc0JBQXNCLEVBQ3RCO1lBQ0UsSUFBSSxhQUFHLENBQUMsYUFBYSxFQUFFLCtCQUFjLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7WUFDeEQsSUFBSSxhQUFHLENBQUMsc0JBQXNCLEVBQUUsdUJBQVcsQ0FBQztTQUM3QyxFQUNELENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFDLFdBQVcsRUFBRSxvQkFBb0IsRUFBQyxFQUFFLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FDL0g7S0FDRixDQUFDO0FBQ0osQ0FBQztBQTVaRCxrREE0WkM7QUFFTSxLQUFLLFVBQVUsdUJBQXVCLENBQUMsS0FBWSxFQUFFLEtBQVksRUFBRSxJQUFtQjtJQUMzRixPQUFPLE1BQU0sNkJBQW1CLENBQU0sYUFBYSxFQUFFLG1CQUFtQixFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNsRyxDQUFDO0FBRkQsMERBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0V2ZW50fSBmcm9tICcuLi9FdmVudCc7XG5pbXBvcnQge2FkZEFjdGlvbiwgZGVzY3JpYmVVc2VyLCBXb3JsZH0gZnJvbSAnLi4vV29ybGQnO1xuaW1wb3J0IHtkZWNvZGVDYWxsLCBnZXRQYXN0RXZlbnRzfSBmcm9tICcuLi9Db250cmFjdCc7XG5pbXBvcnQge0NvbXB0cm9sbGVyfSBmcm9tICcuLi9Db250cmFjdC9Db21wdHJvbGxlcic7XG5pbXBvcnQge0NvbXB0cm9sbGVySW1wbH0gZnJvbSAnLi4vQ29udHJhY3QvQ29tcHRyb2xsZXJJbXBsJztcbmltcG9ydCB7Q1Rva2VufSBmcm9tICcuLi9Db250cmFjdC9DVG9rZW4nO1xuaW1wb3J0IHtpbnZva2V9IGZyb20gJy4uL0ludm9rYXRpb24nO1xuaW1wb3J0IHtcbiAgZ2V0QWRkcmVzc1YsXG4gIGdldEJvb2xWLFxuICBnZXRFdmVudFYsXG4gIGdldEV4cE51bWJlclYsXG4gIGdldE51bWJlclYsXG4gIGdldFBlcmNlbnRWLFxuICBnZXRTdHJpbmdWLFxuICBnZXRDb3JlVmFsdWVcbn0gZnJvbSAnLi4vQ29yZVZhbHVlJztcbmltcG9ydCB7XG4gIEFkZHJlc3NWLFxuICBCb29sVixcbiAgRXZlbnRWLFxuICBOdW1iZXJWLFxuICBTdHJpbmdWXG59IGZyb20gJy4uL1ZhbHVlJztcbmltcG9ydCB7QXJnLCBDb21tYW5kLCBWaWV3LCBwcm9jZXNzQ29tbWFuZEV2ZW50fSBmcm9tICcuLi9Db21tYW5kJztcbmltcG9ydCB7YnVpbGRDb21wdHJvbGxlckltcGx9IGZyb20gJy4uL0J1aWxkZXIvQ29tcHRyb2xsZXJJbXBsQnVpbGRlcic7XG5pbXBvcnQge0NvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcn0gZnJvbSAnLi4vRXJyb3JSZXBvcnRlcic7XG5pbXBvcnQge2dldENvbXB0cm9sbGVyLCBnZXRDb21wdHJvbGxlckltcGx9IGZyb20gJy4uL0NvbnRyYWN0TG9va3VwJztcbmltcG9ydCB7Z2V0TGlxdWlkaXR5fSBmcm9tICcuLi9WYWx1ZS9Db21wdHJvbGxlclZhbHVlJztcbmltcG9ydCB7Z2V0Q1Rva2VuVn0gZnJvbSAnLi4vVmFsdWUvQ1Rva2VuVmFsdWUnO1xuaW1wb3J0IHtlbmNvZGVkTnVtYmVyfSBmcm9tICcuLi9FbmNvZGluZyc7XG5pbXBvcnQge2VuY29kZUFCSSwgcmF3VmFsdWVzfSBmcm9tIFwiLi4vVXRpbHNcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2VuQ29tcHRyb2xsZXIod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIHBhcmFtczogRXZlbnQpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCB7d29ybGQ6IG5leHRXb3JsZCwgY29tcHRyb2xsZXJJbXBsOiBjb21wdHJvbGxlciwgY29tcHRyb2xsZXJJbXBsRGF0YTogY29tcHRyb2xsZXJEYXRhfSA9IGF3YWl0IGJ1aWxkQ29tcHRyb2xsZXJJbXBsKHdvcmxkLCBmcm9tLCBwYXJhbXMpO1xuICB3b3JsZCA9IG5leHRXb3JsZDtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQWRkZWQgQ29tcHRyb2xsZXIgKCR7Y29tcHRyb2xsZXJEYXRhLmRlc2NyaXB0aW9ufSkgYXQgYWRkcmVzcyAke2NvbXB0cm9sbGVyLl9hZGRyZXNzfWAsXG4gICAgY29tcHRyb2xsZXJEYXRhLmludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBzZXRQYXVzZWQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYWN0aW9uTmFtZTogc3RyaW5nLCBpc1BhdXNlZDogYm9vbGVhbik6IFByb21pc2U8V29ybGQ+IHtcbiAgY29uc3QgcGF1c2VNYXAgPSB7XG4gICAgXCJNaW50XCI6IGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldE1pbnRQYXVzZWRcbiAgfTtcblxuICBpZiAoIXBhdXNlTWFwW2FjdGlvbk5hbWVdKSB7XG4gICAgdGhyb3cgYENhbm5vdCBmaW5kIHBhdXNlIGZ1bmN0aW9uIGZvciBhY3Rpb24gXCIke2FjdGlvbk5hbWV9XCJgO1xuICB9XG5cbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyW2FjdGlvbk5hbWVdKFtpc1BhdXNlZF0pLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wdHJvbGxlcjogc2V0IHBhdXNlZCBmb3IgJHthY3Rpb25OYW1lfSB0byAke2lzUGF1c2VkfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0TWF4QXNzZXRzKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIG51bWJlck9mQXNzZXRzOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0TWF4QXNzZXRzKG51bWJlck9mQXNzZXRzLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgU2V0IG1heCBhc3NldHMgdG8gJHtudW1iZXJPZkFzc2V0cy5zaG93KCl9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRMaXF1aWRhdGlvbkluY2VudGl2ZSh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBsaXF1aWRhdGlvbkluY2VudGl2ZTogTnVtYmVyVik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldExpcXVpZGF0aW9uSW5jZW50aXZlKGxpcXVpZGF0aW9uSW5jZW50aXZlLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgU2V0IGxpcXVpZGF0aW9uIGluY2VudGl2ZSB0byAke2xpcXVpZGF0aW9uSW5jZW50aXZlLnNob3coKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHN1cHBvcnRNYXJrZXQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGlmICh3b3JsZC5kcnlSdW4pIHtcbiAgICAvLyBTa2lwIHRoaXMgc3BlY2lmaWNhbGx5IG9uIGRyeSBydW5zIHNpbmNlIGl0J3MgbGlrZWx5IHRvIGNyYXNoIGR1ZSB0byBhIG51bWJlciBvZiByZWFzb25zXG4gICAgd29ybGQucHJpbnRlci5wcmludExpbmUoYERyeSBydW46IFN1cHBvcnRpbmcgbWFya2V0ICBcXGAke2NUb2tlbi5fYWRkcmVzc31cXGBgKTtcbiAgICByZXR1cm4gd29ybGQ7XG4gIH1cblxuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc3VwcG9ydE1hcmtldChjVG9rZW4uX2FkZHJlc3MpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBTdXBwb3J0ZWQgbWFya2V0ICR7Y1Rva2VuLm5hbWV9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1bmxpc3RNYXJrZXQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLnVubGlzdChjVG9rZW4uX2FkZHJlc3MpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBVbmxpc3RlZCBtYXJrZXQgJHtjVG9rZW4ubmFtZX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVudGVyTWFya2V0cyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBhc3NldHM6IHN0cmluZ1tdKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5lbnRlck1hcmtldHMoYXNzZXRzKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ2FsbGVkIGVudGVyIGFzc2V0cyAke2Fzc2V0c30gYXMgJHtkZXNjcmliZVVzZXIod29ybGQsIGZyb20pfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZXhpdE1hcmtldCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBhc3NldDogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5leGl0TWFya2V0KGFzc2V0KSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ2FsbGVkIGV4aXQgbWFya2V0ICR7YXNzZXR9IGFzICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldFByaWNlT3JhY2xlKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIHByaWNlT3JhY2xlQWRkcjogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0UHJpY2VPcmFjbGUocHJpY2VPcmFjbGVBZGRyKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgU2V0IHByaWNlIG9yYWNsZSBmb3IgdG8gJHtwcmljZU9yYWNsZUFkZHJ9IGFzICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldENvbGxhdGVyYWxGYWN0b3Iod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4sIGNvbGxhdGVyYWxGYWN0b3I6IE51bWJlclYpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRDb2xsYXRlcmFsRmFjdG9yKGNUb2tlbi5fYWRkcmVzcywgY29sbGF0ZXJhbEZhY3Rvci5lbmNvZGUoKSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYFNldCBjb2xsYXRlcmFsIGZhY3RvciBmb3IgJHtjVG9rZW4ubmFtZX0gdG8gJHtjb2xsYXRlcmFsRmFjdG9yLnNob3coKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldENsb3NlRmFjdG9yKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNsb3NlRmFjdG9yOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0Q2xvc2VGYWN0b3IoY2xvc2VGYWN0b3IuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBTZXQgY2xvc2UgZmFjdG9yIHRvICR7Y2xvc2VGYWN0b3Iuc2hvdygpfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmFzdEZvcndhcmQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYmxvY2tzOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5mYXN0Rm9yd2FyZChibG9ja3MuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBGYXN0IGZvcndhcmQgJHtibG9ja3Muc2hvdygpfSBibG9ja3MgdG8gIyR7aW52b2thdGlvbi52YWx1ZX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbnkod29ybGQ6IFdvcmxkLCBmcm9tOnN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBzaWduYXR1cmU6IHN0cmluZywgY2FsbEFyZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxXb3JsZD4ge1xuICBjb25zdCBmbkRhdGEgPSBlbmNvZGVBQkkod29ybGQsIHNpZ25hdHVyZSwgY2FsbEFyZ3MpO1xuICBhd2FpdCB3b3JsZC53ZWIzLmV0aC5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgdG86IGNvbXB0cm9sbGVyLl9hZGRyZXNzLFxuICAgICAgZGF0YTogZm5EYXRhLFxuICAgICAgZnJvbTogZnJvbVxuICAgIH0pXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWRkQ29tcE1hcmtldHMod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuczogQ1Rva2VuW10pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9hZGRDb21wTWFya2V0cyhjVG9rZW5zLm1hcChjID0+IGMuX2FkZHJlc3MpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQWRkZWQgQ09NUCBtYXJrZXRzICR7Y1Rva2Vucy5tYXAoYyA9PiBjLm5hbWUpfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZHJvcENvbXBNYXJrZXQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9kcm9wQ29tcE1hcmtldChjVG9rZW4uX2FkZHJlc3MpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBEcm9wIENPTVAgbWFya2V0ICR7Y1Rva2VuLm5hbWV9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZWZyZXNoQ29tcFNwZWVkcyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5yZWZyZXNoQ29tcFNwZWVkcygpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBSZWZyZXNoZWQgQ09NUCBzcGVlZHNgLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsYWltQ29tcCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBob2xkZXI6IHN0cmluZyk6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuY2xhaW1Db21wKGhvbGRlciksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXAgY2xhaW1lZCBieSAke2hvbGRlcn1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbnRyaWJ1dG9yUmV3YXJkcyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjb250cmlidXRvcjogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy51cGRhdGVDb250cmlidXRvclJld2FyZHMoY29udHJpYnV0b3IpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb250cmlidXRvciByZXdhcmRzIHVwZGF0ZWQgZm9yICR7Y29udHJpYnV0b3J9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBncmFudENvbXAod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgcmVjaXBpZW50OiBzdHJpbmcsIGFtb3VudDogTnVtYmVyVik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX2dyYW50Q29tcChyZWNpcGllbnQsIGFtb3VudC5lbmNvZGUoKSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYCR7YW1vdW50LnNob3coKX0gY29tcCBncmFudGVkIHRvICR7cmVjaXBpZW50fWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0Q29tcFJhdGUod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgcmF0ZTogTnVtYmVyVik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldENvbXBSYXRlKHJhdGUuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wIHJhdGUgc2V0IHRvICR7cmF0ZS5zaG93KCl9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRDb21wU3BlZWQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4sIHNwZWVkOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0Q29tcFNwZWVkKGNUb2tlbi5fYWRkcmVzcywgc3BlZWQuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wIHNwZWVkIGZvciBtYXJrZXQgJHtjVG9rZW4uX2FkZHJlc3N9IHNldCB0byAke3NwZWVkLnNob3coKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldENvbnRyaWJ1dG9yQ29tcFNwZWVkKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yOiBzdHJpbmcsIHNwZWVkOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0Q29udHJpYnV0b3JDb21wU3BlZWQoY29udHJpYnV0b3IsIHNwZWVkLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcCBzcGVlZCBmb3IgY29udHJpYnV0b3IgJHtjb250cmlidXRvcn0gc2V0IHRvICR7c3BlZWQuc2hvdygpfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJpbnRMaXF1aWRpdHkod29ybGQ6IFdvcmxkLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBlbnRlckV2ZW50cyA9IGF3YWl0IGdldFBhc3RFdmVudHMod29ybGQsIGNvbXB0cm9sbGVyLCAnU3RkQ29tcHRyb2xsZXInLCAnTWFya2V0RW50ZXJlZCcpO1xuICBsZXQgYWRkcmVzc2VzID0gZW50ZXJFdmVudHMubWFwKChldmVudCkgPT4gZXZlbnQucmV0dXJuVmFsdWVzWydhY2NvdW50J10pO1xuICBsZXQgdW5pcSA9IFsuLi5uZXcgU2V0KGFkZHJlc3NlcyldO1xuXG4gIHdvcmxkLnByaW50ZXIucHJpbnRMaW5lKFwiTGlxdWlkaXR5OlwiKVxuXG4gIGNvbnN0IGxpcXVpZGl0eU1hcCA9IGF3YWl0IFByb21pc2UuYWxsKHVuaXEubWFwKGFzeW5jIChhZGRyZXNzKSA9PiB7XG4gICAgbGV0IHVzZXJMaXF1aWRpdHkgPSBhd2FpdCBnZXRMaXF1aWRpdHkod29ybGQsIGNvbXB0cm9sbGVyLCBhZGRyZXNzKTtcblxuICAgIHJldHVybiBbYWRkcmVzcywgdXNlckxpcXVpZGl0eS52YWxdO1xuICB9KSk7XG5cbiAgbGlxdWlkaXR5TWFwLmZvckVhY2goKFthZGRyZXNzLCBsaXF1aWRpdHldKSA9PiB7XG4gICAgd29ybGQucHJpbnRlci5wcmludExpbmUoYFxcdCR7d29ybGQuc2V0dGluZ3MubG9va3VwQWxpYXMoYWRkcmVzcyl9OiAke2xpcXVpZGl0eSAvIDFlMTh9ZTE4YClcbiAgfSk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRQZW5kaW5nQWRtaW4od29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbmV3UGVuZGluZ0FkbWluOiBzdHJpbmcpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRQZW5kaW5nQWRtaW4obmV3UGVuZGluZ0FkbWluKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcHRyb2xsZXI6ICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX0gc2V0cyBwZW5kaW5nIGFkbWluIHRvICR7bmV3UGVuZGluZ0FkbWlufWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWNjZXB0QWRtaW4od29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlcik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX2FjY2VwdEFkbWluKCksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXB0cm9sbGVyOiAke2Rlc2NyaWJlVXNlcih3b3JsZCwgZnJvbSl9IGFjY2VwdHMgYWRtaW5gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldFBhdXNlR3VhcmRpYW4od29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbmV3UGF1c2VHdWFyZGlhbjogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0UGF1c2VHdWFyZGlhbihuZXdQYXVzZUd1YXJkaWFuKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcHRyb2xsZXI6ICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX0gc2V0cyBwYXVzZSBndWFyZGlhbiB0byAke25ld1BhdXNlR3VhcmRpYW59YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRHdWFyZGlhblBhdXNlZCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBhY3Rpb246IHN0cmluZywgc3RhdGU6IGJvb2xlYW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBmdW47XG4gIHN3aXRjaChhY3Rpb24pe1xuICAgIGNhc2UgXCJUcmFuc2ZlclwiOlxuICAgICAgZnVuID0gY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0VHJhbnNmZXJQYXVzZWRcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJTZWl6ZVwiOlxuICAgICAgZnVuID0gY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0U2VpemVQYXVzZWRcbiAgICAgIGJyZWFrO1xuICB9XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBmdW4oc3RhdGUpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wdHJvbGxlcjogJHtkZXNjcmliZVVzZXIod29ybGQsIGZyb20pfSBzZXRzICR7YWN0aW9ufSBwYXVzZWRgLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldEd1YXJkaWFuTWFya2V0UGF1c2VkKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbjogQ1Rva2VuLCBhY3Rpb246IHN0cmluZywgc3RhdGU6IGJvb2xlYW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBmdW47XG4gIHN3aXRjaChhY3Rpb24pe1xuICAgIGNhc2UgXCJNaW50XCI6XG4gICAgICBmdW4gPSBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRNaW50UGF1c2VkXG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQm9ycm93XCI6XG4gICAgICBmdW4gPSBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRCb3Jyb3dQYXVzZWRcbiAgICAgIGJyZWFrO1xuICB9XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBmdW4oY1Rva2VuLl9hZGRyZXNzLCBzdGF0ZSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXB0cm9sbGVyOiAke2Rlc2NyaWJlVXNlcih3b3JsZCwgZnJvbSl9IHNldHMgJHthY3Rpb259IHBhdXNlZGAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0TWFya2V0Qm9ycm93Q2Fwcyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW5zOiBDVG9rZW5bXSwgYm9ycm93Q2FwczogTnVtYmVyVltdKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0TWFya2V0Qm9ycm93Q2FwcyhjVG9rZW5zLm1hcChjID0+IGMuX2FkZHJlc3MpLCBib3Jyb3dDYXBzLm1hcChjID0+IGMuZW5jb2RlKCkpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQm9ycm93IGNhcHMgb24gJHtjVG9rZW5zfSBzZXQgdG8gJHtib3Jyb3dDYXBzfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0Qm9ycm93Q2FwR3VhcmRpYW4od29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbmV3Qm9ycm93Q2FwR3VhcmRpYW46IHN0cmluZyk6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldEJvcnJvd0NhcEd1YXJkaWFuKG5ld0JvcnJvd0NhcEd1YXJkaWFuKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcHRyb2xsZXI6ICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX0gc2V0cyBib3Jyb3cgY2FwIGd1YXJkaWFuIHRvICR7bmV3Qm9ycm93Q2FwR3VhcmRpYW59YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHRyb2xsZXJDb21tYW5kcygpIHtcbiAgcmV0dXJuIFtcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXJQYXJhbXM6IEV2ZW50Vn0+KGBcbiAgICAgICAgIyMjIyBEZXBsb3lcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgRGVwbG95IC4uLmNvbXB0cm9sbGVyUGFyYW1zXCIgLSBHZW5lcmF0ZXMgYSBuZXcgQ29tcHRyb2xsZXIgKG5vdCBhcyBJbXBsKVxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIERlcGxveSBZZXNOb1wiXG4gICAgICBgLFxuICAgICAgXCJEZXBsb3lcIixcbiAgICAgIFtuZXcgQXJnKFwiY29tcHRyb2xsZXJQYXJhbXNcIiwgZ2V0RXZlbnRWLCB7dmFyaWFkaWM6IHRydWV9KV0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlclBhcmFtc30pID0+IGdlbkNvbXB0cm9sbGVyKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlclBhcmFtcy52YWwpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBhY3Rpb246IFN0cmluZ1YsIGlzUGF1c2VkOiBCb29sVn0+KGBcbiAgICAgICAgIyMjIyBTZXRQYXVzZWRcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0UGF1c2VkIDxBY3Rpb24+IDxCb29sPlwiIC0gUGF1c2VzIG9yIHVucGF1c2VkIGdpdmVuIGNUb2tlbiBmdW5jdGlvblxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldFBhdXNlZCBcIk1pbnRcIiBUcnVlXCJcbiAgICAgIGAsXG4gICAgICBcIlNldFBhdXNlZFwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiYWN0aW9uXCIsIGdldFN0cmluZ1YpLFxuICAgICAgICBuZXcgQXJnKFwiaXNQYXVzZWRcIiwgZ2V0Qm9vbFYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGFjdGlvbiwgaXNQYXVzZWR9KSA9PiBzZXRQYXVzZWQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBhY3Rpb24udmFsLCBpc1BhdXNlZC52YWwpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW46IENUb2tlbn0+KGBcbiAgICAgICAgIyMjIyBTdXBwb3J0TWFya2V0XG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFN1cHBvcnRNYXJrZXQgPENUb2tlbj5cIiAtIEFkZHMgc3VwcG9ydCBpbiB0aGUgQ29tcHRyb2xsZXIgZm9yIHRoZSBnaXZlbiBjVG9rZW5cbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTdXBwb3J0TWFya2V0IGNaUlhcIlxuICAgICAgYCxcbiAgICAgIFwiU3VwcG9ydE1hcmtldFwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiY1Rva2VuXCIsIGdldENUb2tlblYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbn0pID0+IHN1cHBvcnRNYXJrZXQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4pXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW46IENUb2tlbn0+KGBcbiAgICAgICAgIyMjIyBVbkxpc3RcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgVW5MaXN0IDxDVG9rZW4+XCIgLSBNb2NrIHVubGlzdHMgYSBnaXZlbiBtYXJrZXQgaW4gdGVzdHNcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBVbkxpc3QgY1pSWFwiXG4gICAgICBgLFxuICAgICAgXCJVbkxpc3RcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlblwiLCBnZXRDVG9rZW5WKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW59KSA9PiB1bmxpc3RNYXJrZXQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4pXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW5zOiBDVG9rZW5bXX0+KGBcbiAgICAgICAgIyMjIyBFbnRlck1hcmtldHNcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgRW50ZXJNYXJrZXRzICg8Q1Rva2VuPiAuLi4pXCIgLSBVc2VyIGVudGVycyB0aGUgZ2l2ZW4gbWFya2V0c1xuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIEVudGVyTWFya2V0cyAoY1pSWCBjRVRIKVwiXG4gICAgICBgLFxuICAgICAgXCJFbnRlck1hcmtldHNcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlbnNcIiwgZ2V0Q1Rva2VuViwge21hcHBlZDogdHJ1ZX0pXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbnN9KSA9PiBlbnRlck1hcmtldHMod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW5zLm1hcCgoYykgPT4gYy5fYWRkcmVzcykpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW46IENUb2tlbn0+KGBcbiAgICAgICAgIyMjIyBFeGl0TWFya2V0XG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIEV4aXRNYXJrZXQgPENUb2tlbj5cIiAtIFVzZXIgZXhpdHMgdGhlIGdpdmVuIG1hcmtldHNcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBFeGl0TWFya2V0IGNaUlhcIlxuICAgICAgYCxcbiAgICAgIFwiRXhpdE1hcmtldFwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiY1Rva2VuXCIsIGdldENUb2tlblYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbn0pID0+IGV4aXRNYXJrZXQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4uX2FkZHJlc3MpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBtYXhBc3NldHM6IE51bWJlclZ9PihgXG4gICAgICAgICMjIyMgU2V0TWF4QXNzZXRzXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldE1heEFzc2V0cyA8TnVtYmVyPlwiIC0gU2V0cyAob3IgcmVzZXRzKSB0aGUgbWF4IGFsbG93ZWQgYXNzZXQgY291bnRcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRNYXhBc3NldHMgNFwiXG4gICAgICBgLFxuICAgICAgXCJTZXRNYXhBc3NldHNcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcIm1heEFzc2V0c1wiLCBnZXROdW1iZXJWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBtYXhBc3NldHN9KSA9PiBzZXRNYXhBc3NldHMod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBtYXhBc3NldHMpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBsaXF1aWRhdGlvbkluY2VudGl2ZTogTnVtYmVyVn0+KGBcbiAgICAgICAgIyMjIyBMaXF1aWRhdGlvbkluY2VudGl2ZVxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBMaXF1aWRhdGlvbkluY2VudGl2ZSA8TnVtYmVyPlwiIC0gU2V0cyB0aGUgbGlxdWlkYXRpb24gaW5jZW50aXZlXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgTGlxdWlkYXRpb25JbmNlbnRpdmUgMS4xXCJcbiAgICAgIGAsXG4gICAgICBcIkxpcXVpZGF0aW9uSW5jZW50aXZlXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJsaXF1aWRhdGlvbkluY2VudGl2ZVwiLCBnZXRFeHBOdW1iZXJWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBsaXF1aWRhdGlvbkluY2VudGl2ZX0pID0+IHNldExpcXVpZGF0aW9uSW5jZW50aXZlKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgbGlxdWlkYXRpb25JbmNlbnRpdmUpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBwcmljZU9yYWNsZTogQWRkcmVzc1Z9PihgXG4gICAgICAgICMjIyMgU2V0UHJpY2VPcmFjbGVcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0UHJpY2VPcmFjbGUgb3JhY2xlOjxBZGRyZXNzPlwiIC0gU2V0cyB0aGUgcHJpY2Ugb3JhY2xlIGFkZHJlc3NcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRQcmljZU9yYWNsZSAweC4uLlwiXG4gICAgICBgLFxuICAgICAgXCJTZXRQcmljZU9yYWNsZVwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwicHJpY2VPcmFjbGVcIiwgZ2V0QWRkcmVzc1YpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIHByaWNlT3JhY2xlfSkgPT4gc2V0UHJpY2VPcmFjbGUod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBwcmljZU9yYWNsZS52YWwpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW46IENUb2tlbiwgY29sbGF0ZXJhbEZhY3RvcjogTnVtYmVyVn0+KGBcbiAgICAgICAgIyMjIyBTZXRDb2xsYXRlcmFsRmFjdG9yXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldENvbGxhdGVyYWxGYWN0b3IgPENUb2tlbj4gPE51bWJlcj5cIiAtIFNldHMgdGhlIGNvbGxhdGVyYWwgZmFjdG9yIGZvciBnaXZlbiBjVG9rZW4gdG8gbnVtYmVyXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0Q29sbGF0ZXJhbEZhY3RvciBjWlJYIDAuMVwiXG4gICAgICBgLFxuICAgICAgXCJTZXRDb2xsYXRlcmFsRmFjdG9yXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5cIiwgZ2V0Q1Rva2VuViksXG4gICAgICAgIG5ldyBBcmcoXCJjb2xsYXRlcmFsRmFjdG9yXCIsIGdldEV4cE51bWJlclYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbiwgY29sbGF0ZXJhbEZhY3Rvcn0pID0+IHNldENvbGxhdGVyYWxGYWN0b3Iod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4sIGNvbGxhdGVyYWxGYWN0b3IpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjbG9zZUZhY3RvcjogTnVtYmVyVn0+KGBcbiAgICAgICAgIyMjIyBTZXRDbG9zZUZhY3RvclxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRDbG9zZUZhY3RvciA8TnVtYmVyPlwiIC0gU2V0cyB0aGUgY2xvc2UgZmFjdG9yIHRvIGdpdmVuIHBlcmNlbnRhZ2VcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRDbG9zZUZhY3RvciAwLjJcIlxuICAgICAgYCxcbiAgICAgIFwiU2V0Q2xvc2VGYWN0b3JcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNsb3NlRmFjdG9yXCIsIGdldFBlcmNlbnRWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjbG9zZUZhY3Rvcn0pID0+IHNldENsb3NlRmFjdG9yKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY2xvc2VGYWN0b3IpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBuZXdQZW5kaW5nQWRtaW46IEFkZHJlc3NWfT4oYFxuICAgICAgICAjIyMjIFNldFBlbmRpbmdBZG1pblxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRQZW5kaW5nQWRtaW4gbmV3UGVuZGluZ0FkbWluOjxBZGRyZXNzPlwiIC0gU2V0cyB0aGUgcGVuZGluZyBhZG1pbiBmb3IgdGhlIENvbXB0cm9sbGVyXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0UGVuZGluZ0FkbWluIEdlb2ZmXCJcbiAgICAgIGAsXG4gICAgICBcIlNldFBlbmRpbmdBZG1pblwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwibmV3UGVuZGluZ0FkbWluXCIsIGdldEFkZHJlc3NWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBuZXdQZW5kaW5nQWRtaW59KSA9PiBzZXRQZW5kaW5nQWRtaW4od29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBuZXdQZW5kaW5nQWRtaW4udmFsKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlcn0+KGBcbiAgICAgICAgIyMjIyBBY2NlcHRBZG1pblxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBBY2NlcHRBZG1pblwiIC0gQWNjZXB0cyBhZG1pbiBmb3IgdGhlIENvbXB0cm9sbGVyXG4gICAgICAgICAgKiBFLmcuIFwiRnJvbSBHZW9mZiAoQ29tcHRyb2xsZXIgQWNjZXB0QWRtaW4pXCJcbiAgICAgIGAsXG4gICAgICBcIkFjY2VwdEFkbWluXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXJ9KSA9PiBhY2NlcHRBZG1pbih3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBuZXdQYXVzZUd1YXJkaWFuOiBBZGRyZXNzVn0+KGBcbiAgICAgICAgIyMjIyBTZXRQYXVzZUd1YXJkaWFuXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldFBhdXNlR3VhcmRpYW4gbmV3UGF1c2VHdWFyZGlhbjo8QWRkcmVzcz5cIiAtIFNldHMgdGhlIFBhdXNlR3VhcmRpYW4gZm9yIHRoZSBDb21wdHJvbGxlclxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldFBhdXNlR3VhcmRpYW4gR2VvZmZcIlxuICAgICAgYCxcbiAgICAgIFwiU2V0UGF1c2VHdWFyZGlhblwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwibmV3UGF1c2VHdWFyZGlhblwiLCBnZXRBZGRyZXNzVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgbmV3UGF1c2VHdWFyZGlhbn0pID0+IHNldFBhdXNlR3VhcmRpYW4od29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBuZXdQYXVzZUd1YXJkaWFuLnZhbClcbiAgICApLFxuXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYWN0aW9uOiBTdHJpbmdWLCBpc1BhdXNlZDogQm9vbFZ9PihgXG4gICAgICAgICMjIyMgU2V0R3VhcmRpYW5QYXVzZWRcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0R3VhcmRpYW5QYXVzZWQgPEFjdGlvbj4gPEJvb2w+XCIgLSBQYXVzZXMgb3IgdW5wYXVzZWQgZ2l2ZW4gY1Rva2VuIGZ1bmN0aW9uXG4gICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldEd1YXJkaWFuUGF1c2VkIFwiVHJhbnNmZXJcIiBUcnVlXCJcbiAgICAgICAgYCxcbiAgICAgICAgXCJTZXRHdWFyZGlhblBhdXNlZFwiLFxuICAgICAgICBbXG4gICAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgICBuZXcgQXJnKFwiYWN0aW9uXCIsIGdldFN0cmluZ1YpLFxuICAgICAgICAgIG5ldyBBcmcoXCJpc1BhdXNlZFwiLCBnZXRCb29sVilcbiAgICAgICAgXSxcbiAgICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGFjdGlvbiwgaXNQYXVzZWR9KSA9PiBzZXRHdWFyZGlhblBhdXNlZCh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGFjdGlvbi52YWwsIGlzUGF1c2VkLnZhbClcbiAgICApLFxuXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4sIGFjdGlvbjogU3RyaW5nViwgaXNQYXVzZWQ6IEJvb2xWfT4oYFxuICAgICAgICAjIyMjIFNldEd1YXJkaWFuTWFya2V0UGF1c2VkXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldEd1YXJkaWFuTWFya2V0UGF1c2VkIDxDVG9rZW4+IDxBY3Rpb24+IDxCb29sPlwiIC0gUGF1c2VzIG9yIHVucGF1c2VkIGdpdmVuIGNUb2tlbiBmdW5jdGlvblxuICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRHdWFyZGlhbk1hcmtldFBhdXNlZCBjUkVQIFwiTWludFwiIFRydWVcIlxuICAgICAgICBgLFxuICAgICAgICBcIlNldEd1YXJkaWFuTWFya2V0UGF1c2VkXCIsXG4gICAgICAgIFtcbiAgICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICAgIG5ldyBBcmcoXCJjVG9rZW5cIiwgZ2V0Q1Rva2VuViksXG4gICAgICAgICAgbmV3IEFyZyhcImFjdGlvblwiLCBnZXRTdHJpbmdWKSxcbiAgICAgICAgICBuZXcgQXJnKFwiaXNQYXVzZWRcIiwgZ2V0Qm9vbFYpXG4gICAgICAgIF0sXG4gICAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW4sIGFjdGlvbiwgaXNQYXVzZWR9KSA9PiBzZXRHdWFyZGlhbk1hcmtldFBhdXNlZCh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNUb2tlbiwgYWN0aW9uLnZhbCwgaXNQYXVzZWQudmFsKVxuICAgICksXG5cbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBibG9ja3M6IE51bWJlclYsIF9rZXl3b3JkOiBTdHJpbmdWfT4oYFxuICAgICAgICAjIyMjIEZhc3RGb3J3YXJkXG5cbiAgICAgICAgKiBcIkZhc3RGb3J3YXJkIG46PE51bWJlcj4gQmxvY2tzXCIgLSBNb3ZlcyB0aGUgYmxvY2sgbnVtYmVyIGZvcndhcmQgXCJuXCIgYmxvY2tzLiBOb3RlOiBpbiBcIkNUb2tlblNjZW5hcmlvXCIgYW5kIFwiQ29tcHRyb2xsZXJTY2VuYXJpb1wiIHRoZSBjdXJyZW50IGJsb2NrIG51bWJlciBpcyBtb2NrZWQgKHN0YXJ0aW5nIGF0IDEwMDAwMCkuIFRoaXMgaXMgdGhlIG9ubHkgd2F5IGZvciB0aGUgcHJvdG9jb2wgdG8gc2VlIGEgaGlnaGVyIGJsb2NrIG51bWJlciAoZm9yIGFjY3J1aW5nIGludGVyZXN0KS5cbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBGYXN0Rm9yd2FyZCA1IEJsb2Nrc1wiIC0gTW92ZSBibG9jayBudW1iZXIgZm9yd2FyZCA1IGJsb2Nrcy5cbiAgICAgIGAsXG4gICAgICBcIkZhc3RGb3J3YXJkXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJibG9ja3NcIiwgZ2V0TnVtYmVyViksXG4gICAgICAgIG5ldyBBcmcoXCJfa2V5d29yZFwiLCBnZXRTdHJpbmdWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBibG9ja3N9KSA9PiBmYXN0Rm9yd2FyZCh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGJsb2NrcylcbiAgICApLFxuICAgIG5ldyBWaWV3PHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXJ9PihgXG4gICAgICAgICMjIyMgTGlxdWlkaXR5XG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIExpcXVpZGl0eVwiIC0gUHJpbnRzIGxpcXVpZGl0eSBvZiBhbGwgbWludGVycyBvciBib3Jyb3dlcnNcbiAgICAgIGAsXG4gICAgICBcIkxpcXVpZGl0eVwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgXSxcbiAgICAgICh3b3JsZCwge2NvbXB0cm9sbGVyfSkgPT4gcHJpbnRMaXF1aWRpdHkod29ybGQsIGNvbXB0cm9sbGVyKVxuICAgICksXG4gICAgbmV3IFZpZXc8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgaW5wdXQ6IFN0cmluZ1Z9PihgXG4gICAgICAgICMjIyMgRGVjb2RlXG5cbiAgICAgICAgKiBcIkRlY29kZSBpbnB1dDo8U3RyaW5nPlwiIC0gUHJpbnRzIGluZm9ybWF0aW9uIGFib3V0IGEgY2FsbCB0byBhIENvbXB0cm9sbGVyIGNvbnRyYWN0XG4gICAgICBgLFxuICAgICAgXCJEZWNvZGVcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImlucHV0XCIsIGdldFN0cmluZ1YpXG5cbiAgICAgIF0sXG4gICAgICAod29ybGQsIHtjb21wdHJvbGxlciwgaW5wdXR9KSA9PiBkZWNvZGVDYWxsKHdvcmxkLCBjb21wdHJvbGxlciwgaW5wdXQudmFsKVxuICAgICksXG5cbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBzaWduYXR1cmU6IFN0cmluZ1YsIGNhbGxBcmdzOiBTdHJpbmdWW119PihgXG4gICAgICAjIyMjIFNlbmRcbiAgICAgICogQ29tcHRyb2xsZXIgU2VuZCBmdW5jdGlvblNpZ25hdHVyZTo8U3RyaW5nPiBjYWxsQXJnc1tdIC0gU2VuZHMgYW55IHRyYW5zYWN0aW9uIHRvIGNvbXB0cm9sbGVyXG4gICAgICAqIEUuZzogQ29tcHRyb2xsZXIgU2VuZCBcInNldENvbXBBZGRyZXNzKGFkZHJlc3MpXCIgKEFkZHJlc3MgQ09NUClcbiAgICAgIGAsXG4gICAgICBcIlNlbmRcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcInNpZ25hdHVyZVwiLCBnZXRTdHJpbmdWKSxcbiAgICAgICAgbmV3IEFyZyhcImNhbGxBcmdzXCIsIGdldENvcmVWYWx1ZSwge3ZhcmlhZGljOiB0cnVlLCBtYXBwZWQ6IHRydWV9KVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBzaWduYXR1cmUsIGNhbGxBcmdzfSkgPT4gc2VuZEFueSh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIHNpZ25hdHVyZS52YWwsIHJhd1ZhbHVlcyhjYWxsQXJncykpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW5zOiBDVG9rZW5bXX0+KGBcbiAgICAgICMjIyMgQWRkQ29tcE1hcmtldHNcblxuICAgICAgKiBcIkNvbXB0cm9sbGVyIEFkZENvbXBNYXJrZXRzICg8QWRkcmVzcz4gLi4uKVwiIC0gTWFrZXMgYSBtYXJrZXQgQ09NUC1lbmFibGVkXG4gICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBBZGRDb21wTWFya2V0cyAoY1pSWCBjQkFUKVxuICAgICAgYCxcbiAgICAgIFwiQWRkQ29tcE1hcmtldHNcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlbnNcIiwgZ2V0Q1Rva2VuViwge21hcHBlZDogdHJ1ZX0pXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbnN9KSA9PiBhZGRDb21wTWFya2V0cyh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNUb2tlbnMpXG4gICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW59PihgXG4gICAgICAjIyMjIERyb3BDb21wTWFya2V0XG5cbiAgICAgICogXCJDb21wdHJvbGxlciBEcm9wQ29tcE1hcmtldCA8QWRkcmVzcz5cIiAtIE1ha2VzIGEgbWFya2V0IENPTVBcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIERyb3BDb21wTWFya2V0IGNaUlhcbiAgICAgIGAsXG4gICAgICBcIkRyb3BDb21wTWFya2V0XCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5cIiwgZ2V0Q1Rva2VuVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgY1Rva2VufSkgPT4gZHJvcENvbXBNYXJrZXQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4pXG4gICAgICksXG5cbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyfT4oYFxuICAgICAgIyMjIyBSZWZyZXNoQ29tcFNwZWVkc1xuXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgUmVmcmVzaENvbXBTcGVlZHNcIiAtIFJlY2FsY3VsYXRlcyBhbGwgdGhlIENPTVAgbWFya2V0IHNwZWVkc1xuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgUmVmcmVzaENvbXBTcGVlZHNcbiAgICAgIGAsXG4gICAgICBcIlJlZnJlc2hDb21wU3BlZWRzXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSlcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlcn0pID0+IHJlZnJlc2hDb21wU3BlZWRzKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlcilcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGhvbGRlcjogQWRkcmVzc1Z9PihgXG4gICAgICAjIyMjIENsYWltQ29tcFxuXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgQ2xhaW1Db21wIDxob2xkZXI+XCIgLSBDbGFpbXMgY29tcFxuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgQ2xhaW1Db21wIEdlb2ZmXG4gICAgICBgLFxuICAgICAgXCJDbGFpbUNvbXBcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImhvbGRlclwiLCBnZXRBZGRyZXNzVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgaG9sZGVyfSkgPT4gY2xhaW1Db21wKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgaG9sZGVyLnZhbClcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yOiBBZGRyZXNzVn0+KGBcbiAgICAgICMjIyMgVXBkYXRlQ29udHJpYnV0b3JSZXdhcmRzXG5cbiAgICAgICogXCJDb21wdHJvbGxlciBVcGRhdGVDb250cmlidXRvclJld2FyZHMgPGNvbnRyaWJ1dG9yPlwiIC0gVXBkYXRlcyByZXdhcmRzIGZvciBhIGNvbnRyaWJ1dG9yXG4gICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBVcGRhdGVDb250cmlidXRvclJld2FyZHMgR2VvZmZcbiAgICAgIGAsXG4gICAgICBcIlVwZGF0ZUNvbnRyaWJ1dG9yUmV3YXJkc1wiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiY29udHJpYnV0b3JcIiwgZ2V0QWRkcmVzc1YpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yfSkgPT4gdXBkYXRlQ29udHJpYnV0b3JSZXdhcmRzKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY29udHJpYnV0b3IudmFsKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgcmVjaXBpZW50OiBBZGRyZXNzViwgYW1vdW50OiBOdW1iZXJWfT4oYFxuICAgICAgIyMjIyBHcmFudENvbXBcblxuICAgICAgKiBcIkNvbXB0cm9sbGVyIEdyYW50Q29tcCA8cmVjaXBpZW50PiA8YW1vdW50PlwiIC0gR3JhbnRzIENPTVAgdG8gYSByZWNpcGllbnRcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIEdyYW50Q29tcCBHZW9mZiAxZTE4XG4gICAgICBgLFxuICAgICAgXCJHcmFudENvbXBcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcInJlY2lwaWVudFwiLCBnZXRBZGRyZXNzViksXG4gICAgICAgIG5ldyBBcmcoXCJhbW91bnRcIiwgZ2V0TnVtYmVyVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgcmVjaXBpZW50LCBhbW91bnR9KSA9PiBncmFudENvbXAod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCByZWNpcGllbnQudmFsLCBhbW91bnQpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCByYXRlOiBOdW1iZXJWfT4oYFxuICAgICAgIyMjIyBTZXRDb21wUmF0ZVxuXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0Q29tcFJhdGUgPHJhdGU+XCIgLSBTZXRzIENPTVAgcmF0ZVxuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0Q29tcFJhdGUgMWUxOFxuICAgICAgYCxcbiAgICAgIFwiU2V0Q29tcFJhdGVcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcInJhdGVcIiwgZ2V0TnVtYmVyVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgcmF0ZX0pID0+IHNldENvbXBSYXRlKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgcmF0ZSlcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbjogQ1Rva2VuLCBzcGVlZDogTnVtYmVyVn0+KGBcbiAgICAgICMjIyMgU2V0Q29tcFNwZWVkXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0Q29tcFNwZWVkIDxjVG9rZW4+IDxyYXRlPlwiIC0gU2V0cyBDT01QIHNwZWVkIGZvciBtYXJrZXRcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldENvbXBTcGVlZCBjVG9rZW4gMTAwMFxuICAgICAgYCxcbiAgICAgIFwiU2V0Q29tcFNwZWVkXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5cIiwgZ2V0Q1Rva2VuViksXG4gICAgICAgIG5ldyBBcmcoXCJzcGVlZFwiLCBnZXROdW1iZXJWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW4sIHNwZWVkfSkgPT4gc2V0Q29tcFNwZWVkKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VuLCBzcGVlZClcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yOiBBZGRyZXNzViwgc3BlZWQ6IE51bWJlclZ9PihgXG4gICAgICAjIyMjIFNldENvbnRyaWJ1dG9yQ29tcFNwZWVkXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0Q29udHJpYnV0b3JDb21wU3BlZWQgPGNvbnRyaWJ1dG9yPiA8cmF0ZT5cIiAtIFNldHMgQ09NUCBzcGVlZCBmb3IgY29udHJpYnV0b3JcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldENvbnRyaWJ1dG9yQ29tcFNwZWVkIGNvbnRyaWJ1dG9yIDEwMDBcbiAgICAgIGAsXG4gICAgICBcIlNldENvbnRyaWJ1dG9yQ29tcFNwZWVkXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjb250cmlidXRvclwiLCBnZXRBZGRyZXNzViksXG4gICAgICAgIG5ldyBBcmcoXCJzcGVlZFwiLCBnZXROdW1iZXJWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjb250cmlidXRvciwgc3BlZWR9KSA9PiBzZXRDb250cmlidXRvckNvbXBTcGVlZCh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yLnZhbCwgc3BlZWQpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW5zOiBDVG9rZW5bXSwgYm9ycm93Q2FwczogTnVtYmVyVltdfT4oYFxuICAgICAgIyMjIyBTZXRNYXJrZXRCb3Jyb3dDYXBzXG5cbiAgICAgICogXCJDb21wdHJvbGxlciBTZXRNYXJrZXRCb3Jyb3dDYXBzICg8Q1Rva2VuPiAuLi4pICg8Ym9ycm93Q2FwPiAuLi4pXCIgLSBTZXRzIE1hcmtldCBCb3Jyb3cgQ2Fwc1xuICAgICAgKiBFLmcgXCJDb21wdHJvbGxlciBTZXRNYXJrZXRCb3Jyb3dDYXBzIChjWlJYIGNVU0RDKSAoMTAwMDAuMGUxOCwgMTAwMC4wZTYpXG4gICAgICBgLFxuICAgICAgXCJTZXRNYXJrZXRCb3Jyb3dDYXBzXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5zXCIsIGdldENUb2tlblYsIHttYXBwZWQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImJvcnJvd0NhcHNcIiwgZ2V0TnVtYmVyViwge21hcHBlZDogdHJ1ZX0pXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsY1Rva2Vucyxib3Jyb3dDYXBzfSkgPT4gc2V0TWFya2V0Qm9ycm93Q2Fwcyh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNUb2tlbnMsIGJvcnJvd0NhcHMpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBuZXdCb3Jyb3dDYXBHdWFyZGlhbjogQWRkcmVzc1Z9PihgXG4gICAgICAgICMjIyMgU2V0Qm9ycm93Q2FwR3VhcmRpYW5cblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0Qm9ycm93Q2FwR3VhcmRpYW4gbmV3Qm9ycm93Q2FwR3VhcmRpYW46PEFkZHJlc3M+XCIgLSBTZXRzIHRoZSBCb3Jyb3cgQ2FwIEd1YXJkaWFuIGZvciB0aGUgQ29tcHRyb2xsZXJcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRCb3Jyb3dDYXBHdWFyZGlhbiBHZW9mZlwiXG4gICAgICBgLFxuICAgICAgXCJTZXRCb3Jyb3dDYXBHdWFyZGlhblwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwibmV3Qm9ycm93Q2FwR3VhcmRpYW5cIiwgZ2V0QWRkcmVzc1YpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIG5ld0JvcnJvd0NhcEd1YXJkaWFufSkgPT4gc2V0Qm9ycm93Q2FwR3VhcmRpYW4od29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBuZXdCb3Jyb3dDYXBHdWFyZGlhbi52YWwpXG4gICAgKVxuICBdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0NvbXB0cm9sbGVyRXZlbnQod29ybGQ6IFdvcmxkLCBldmVudDogRXZlbnQsIGZyb206IHN0cmluZyB8IG51bGwpOiBQcm9taXNlPFdvcmxkPiB7XG4gIHJldHVybiBhd2FpdCBwcm9jZXNzQ29tbWFuZEV2ZW50PGFueT4oXCJDb21wdHJvbGxlclwiLCBjb21wdHJvbGxlckNvbW1hbmRzKCksIHdvcmxkLCBldmVudCwgZnJvbSk7XG59XG4iXX0=